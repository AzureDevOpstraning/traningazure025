#Login and set the subscription 
Login-AzAccount -UseDeviceAuthentication
Set-AzContext -SubscriptionId "xxxx-xxxxx-xxxxx" -Tenant "xxxx-xxxxx-xxxx"

#To create the Resurce group
New-AzResourceGroup -name "learningbatch25" -Location "westus"

#Using foreach and if condtion

$resourcegroup = @( 
   @{ Name = "rg001"; Location = "EastUS"},
   @{ Name = "RG002"; Location = "WestUS"}
   )


   foreach ($rg in $resourcegroup) {
    $rgname = $rg.Name
    $rgLocation = $rg.Location

    Write-Host "checking rg: $rgname"

    $ExistingRG = Get-AzResourceGroup -Name $rgname -ErrorAction SilentlyContinue

    if ($null -eq $ExistingRG) {

     New-AzResourceGroup -Name $rgname -Location $rgLocation

    }
    else {
     Write-Host " resource group $rgname already exist"
    }

  }

Core Powershell :

# creating the folder

New-Item -Path 'C:\Users\Vangaveeti\OneDrive\Desktop\Training Doc\learning\learning.ps1' -ItemType File

$pathvalue = 'C:\Users\Vangaveeti\OneDrive\Desktop\Training Doc\learning\learning.ps1'

Get-Content $pathvalue

Virtual Network:



#Variables

$rgname = "VritualNetworkresourcegroup"
$location = "EastUS"
$Vnetname= "vnet00004"
$subnetname ="subnet00004"
$vnetAddress = "10.0.0.0/25"
$subnetaddress = "10.0.0.0/26"

$subnet1 = New-AzVirtualNetworkSubnetConfig -Name $subnetname -AddressPrefix $subnetaddress

$Vnet = New-AzVirtualNetwork -Name $Vnetname -ResourceGroupName $rgname -Location $location -AddressPrefix $vnetAddress -Subnet $subnet1

